<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New-API è®¡è´¹æ¡†æ¶æ¶æ„å›¾</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'PingFang SC', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 1.1em;
        }
        
        .architecture {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        .layer {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .layer:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .layer-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .layer-title .icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            color: white;
            font-size: 1.2em;
        }
        
        .request-layer .layer-title { color: #e74c3c; border-color: #e74c3c; }
        .request-layer .icon { background: #e74c3c; }
        
        .pricing-layer .layer-title { color: #3498db; border-color: #3498db; }
        .pricing-layer .icon { background: #3498db; }
        
        .calculation-layer .layer-title { color: #2ecc71; border-color: #2ecc71; }
        .calculation-layer .icon { background: #2ecc71; }
        
        .storage-layer .layer-title { color: #f39c12; border-color: #f39c12; }
        .storage-layer .icon { background: #f39c12; }
        
        .components {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .component {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            border-left: 4px solid;
        }
        
        .component:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }
        
        .request-layer .component { border-color: #e74c3c; }
        .pricing-layer .component { border-color: #3498db; }
        .calculation-layer .component { border-color: #2ecc71; }
        .storage-layer .component { border-color: #f39c12; }
        
        .component-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .component-desc {
            color: #7f8c8d;
            font-size: 0.95em;
            line-height: 1.6;
            margin-bottom: 12px;
        }
        
        .component-details {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 12px;
            font-size: 0.9em;
            color: #555;
        }
        
        .component-details ul {
            list-style: none;
            padding-left: 0;
        }
        
        .component-details li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }
        
        .component-details li:before {
            content: "â–¸";
            position: absolute;
            left: 0;
            color: #3498db;
            font-weight: bold;
        }
        
        .flow-diagram {
            margin-top: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
        }
        
        .flow-title {
            text-align: center;
            font-size: 1.8em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 30px;
        }
        
        .flow-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .flow-step {
            flex: 1;
            min-width: 200px;
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .flow-step:not(:last-child):after {
            content: "â†’";
            position: absolute;
            right: -30px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2em;
            color: #3498db;
            font-weight: bold;
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-weight: bold;
            font-size: 1.2em;
        }
        
        .step-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 1.1em;
        }
        
        .step-desc {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .legend {
            margin-top: 40px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
        }
        
        .legend-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .legend-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .legend-color {
            width: 30px;
            height: 30px;
            border-radius: 8px;
        }
        
        .legend-text {
            color: #555;
            font-size: 0.95em;
        }
        
        @media (max-width: 768px) {
            .components {
                grid-template-columns: 1fr;
            }
            
            .flow-steps {
                flex-direction: column;
            }
            
            .flow-step:not(:last-child):after {
                content: "â†“";
                right: auto;
                top: auto;
                bottom: -30px;
                left: 50%;
                transform: translateX(-50%);
            }
        }
        
        .banana-image {
            max-width: 100%;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .image-section {
            margin-top: 40px;
            text-align: center;
        }
        
        .image-title {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ New-API è®¡è´¹æ¡†æ¶æ¶æ„å›¾</h1>
        <p class="subtitle">çµæ´»çš„å¤šå±‚æ¬¡è®¡è´¹ç³»ç»Ÿ - æ”¯æŒåˆ†æ®µå®šä»·ã€å€ç‡è®¡è´¹å’ŒæŒ‰æ¬¡è®¡è´¹</p>
        
        <div class="architecture">
            <!-- è¯·æ±‚å±‚ -->
            <div class="layer request-layer">
                <div class="layer-title">
                    <span class="icon">ğŸ“¥</span>
                    è¯·æ±‚å¤„ç†å±‚ (Request Handler Layer)
                </div>
                <div class="components">
                    <div class="component">
                        <div class="component-title">Compatible Handler</div>
                        <div class="component-desc">å¤„ç†å…¼å®¹æ€§è¯·æ±‚ï¼Œç»Ÿä¸€ä¸åŒAPIæ ¼å¼</div>
                        <div class="component-details">
                            <ul>
                                <li>æ¥æ”¶ç”¨æˆ·APIè¯·æ±‚</li>
                                <li>è§£æè¯·æ±‚å‚æ•°</li>
                                <li>æå–æ¨¡å‹åç§°å’Œtokenä¿¡æ¯</li>
                                <li>è°ƒç”¨ä»·æ ¼è®¡ç®—åŠ©æ‰‹</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="component">
                        <div class="component-title">Relay Info</div>
                        <div class="component-desc">ä¸­ç»§ä¿¡æ¯ç®¡ç†ï¼Œå­˜å‚¨è¯·æ±‚ä¸Šä¸‹æ–‡</div>
                        <div class="component-details">
                            <ul>
                                <li>OriginModelName: åŸå§‹æ¨¡å‹å</li>
                                <li>UserGroup: ç”¨æˆ·ç»„</li>
                                <li>UsingGroup: ä½¿ç”¨çš„æ¸ é“ç»„</li>
                                <li>PriceData: ä»·æ ¼æ•°æ®</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="component">
                        <div class="component-title">Token Count Meta</div>
                        <div class="component-desc">Tokenè®¡æ•°å…ƒæ•°æ®</div>
                        <div class="component-details">
                            <ul>
                                <li>PromptTokens: è¾“å…¥tokenæ•°</li>
                                <li>MaxTokens: æœ€å¤§è¾“å‡ºtokenæ•°</li>
                                <li>ImagePriceRatio: å›¾ç‰‡ä»·æ ¼å€ç‡</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- å®šä»·ç­–ç•¥å±‚ -->
            <div class="layer pricing-layer">
                <div class="layer-title">
                    <span class="icon">ğŸ’°</span>
                    å®šä»·ç­–ç•¥å±‚ (Pricing Strategy Layer)
                </div>
                <div class="components">
                    <div class="component">
                        <div class="component-title">åˆ†æ®µå®šä»· (Tiered Pricing)</div>
                        <div class="component-desc">åŸºäºè¾“å…¥tokené‡çš„é˜¶æ¢¯å®šä»·ï¼Œä¼˜å…ˆçº§æœ€é«˜</div>
                        <div class="component-details">
                            <ul>
                                <li>PriceTier: ä»·æ ¼åŒºé—´é…ç½®</li>
                                <li>MinTokens/MaxTokens: åŒºé—´èŒƒå›´</li>
                                <li>InputPrice: è¾“å…¥ä»·æ ¼ (USD/M tokens)</li>
                                <li>OutputPrice: è¾“å‡ºä»·æ ¼</li>
                                <li>CacheHitPrice: ç¼“å­˜å‘½ä¸­ä»·æ ¼</li>
                                <li>CacheStorePrice: ç¼“å­˜å­˜å‚¨ä»·æ ¼</li>
                                <li>æ”¯æŒé€šé…ç¬¦åŒ¹é… (å¦‚ doubao-seed-*)</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="component">
                        <div class="component-title">å›ºå®šä»·æ ¼ (Model Price)</div>
                        <div class="component-desc">æŒ‰å›ºå®šä»·æ ¼è®¡è´¹ï¼Œé€‚ç”¨äºæŒ‰æ¬¡è®¡è´¹æ¨¡å‹</div>
                        <div class="component-details">
                            <ul>
                                <li>ç›´æ¥è®¾å®šæ¨¡å‹å•ä»·</li>
                                <li>é€‚ç”¨äºMJã€Taskç­‰æŒ‰æ¬¡è®¡è´¹</li>
                                <li>æ”¯æŒå›¾ç‰‡ä»·æ ¼å€ç‡è°ƒæ•´</li>
                                <li>ä¼˜å…ˆçº§ä½äºåˆ†æ®µå®šä»·</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="component">
                        <div class="component-title">å€ç‡è®¡è´¹ (Model Ratio)</div>
                        <div class="component-desc">åŸºäºtokenæ•°é‡çš„å€ç‡è®¡è´¹</div>
                        <div class="component-details">
                            <ul>
                                <li>ModelRatio: åŸºç¡€å€ç‡</li>
                                <li>CompletionRatio: è¾“å‡ºå€ç‡</li>
                                <li>CacheRatio: ç¼“å­˜å€ç‡</li>
                                <li>CacheCreationRatio: ç¼“å­˜åˆ›å»ºå€ç‡</li>
                                <li>ImageRatio: å›¾ç‰‡å€ç‡</li>
                                <li>AudioRatio: éŸ³é¢‘å€ç‡</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- è®¡ç®—å±‚ -->
            <div class="layer calculation-layer">
                <div class="layer-title">
                    <span class="icon">ğŸ§®</span>
                    è´¹ç”¨è®¡ç®—å±‚ (Calculation Layer)
                </div>
                <div class="components">
                    <div class="component">
                        <div class="component-title">ModelPriceHelper</div>
                        <div class="component-desc">ä¸»è¦ä»·æ ¼è®¡ç®—åŠ©æ‰‹</div>
                        <div class="component-details">
                            <ul>
                                <li>1. æ£€æŸ¥åˆ†æ®µå®šä»·é…ç½®</li>
                                <li>2. æ ¹æ®è¾“å…¥tokenæ•°åŒ¹é…ä»·æ ¼åŒºé—´</li>
                                <li>3. åº”ç”¨ç»„å€ç‡ (GroupRatio)</li>
                                <li>4. è®¡ç®—é¢„æ‰£è´¹é¢åº¦</li>
                                <li>5. å›é€€åˆ°ModelPriceæˆ–ModelRatio</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="component">
                        <div class="component-title">Group Ratio Handler</div>
                        <div class="component-desc">ç»„å€ç‡å¤„ç†</div>
                        <div class="component-details">
                            <ul>
                                <li>æ£€æŸ¥ç”¨æˆ·ç»„ç‰¹æ®Šå€ç‡</li>
                                <li>åº”ç”¨æ¸ é“ç»„å€ç‡</li>
                                <li>å¤„ç†è‡ªåŠ¨åˆ†ç»„ (auto_group)</li>
                                <li>è¿”å›GroupRatioInfo</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="component">
                        <div class="component-title">é¢„æ‰£è´¹è®¡ç®—</div>
                        <div class="component-desc">è¯·æ±‚å‰é¢„æ‰£è´¹ç”¨</div>
                        <div class="component-details">
                            <ul>
                                <li>åˆ†æ®µå®šä»·: ä½¿ç”¨æœ€é«˜åŒºé—´ä»·æ ¼</li>
                                <li>å›ºå®šä»·æ ¼: ModelPrice Ã— GroupRatio</li>
                                <li>å€ç‡è®¡è´¹: Tokens Ã— Ratio Ã— GroupRatio</li>
                                <li>å…è´¹æ¨¡å‹å¯é€‰ä¸é¢„æ‰£</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- å­˜å‚¨å±‚ -->
            <div class="layer storage-layer">
                <div class="layer-title">
                    <span class="icon">ğŸ’¾</span>
                    é…ç½®å­˜å‚¨å±‚ (Configuration Storage Layer)
                </div>
                <div class="components">
                    <div class="component">
                        <div class="component-title">TieredPricing Map</div>
                        <div class="component-desc">åˆ†æ®µå®šä»·é…ç½®å­˜å‚¨</div>
                        <div class="component-details">
                            <ul>
                                <li>å†…å­˜ç¼“å­˜: tieredPricingMap</li>
                                <li>è¯»å†™é”ä¿æŠ¤å¹¶å‘è®¿é—®</li>
                                <li>æ”¯æŒJSONåºåˆ—åŒ–/ååºåˆ—åŒ–</li>
                                <li>è‡ªåŠ¨æ’åºä»·æ ¼åŒºé—´</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="component">
                        <div class="component-title">Option Database</div>
                        <div class="component-desc">æ•°æ®åº“æŒä¹…åŒ–</div>
                        <div class="component-details">
                            <ul>
                                <li>Key-Valueå­˜å‚¨ç»“æ„</li>
                                <li>TieredPricing: åˆ†æ®µå®šä»·é…ç½®</li>
                                <li>ModelPrice: å›ºå®šä»·æ ¼é…ç½®</li>
                                <li>ModelRatio: å€ç‡é…ç½®</li>
                                <li>GroupRatio: ç»„å€ç‡é…ç½®</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="component">
                        <div class="component-title">Exposed Cache</div>
                        <div class="component-desc">å¯¹å¤–æš´éœ²çš„ç¼“å­˜æ•°æ®</div>
                        <div class="component-details">
                            <ul>
                                <li>å‰ç«¯å±•ç¤ºç”¨çš„ä»·æ ¼æ•°æ®</li>
                                <li>é…ç½®æ›´æ–°æ—¶è‡ªåŠ¨å¤±æ•ˆ</li>
                                <li>å‡å°‘é‡å¤è®¡ç®—</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- æµç¨‹å›¾ -->
        <div class="flow-diagram">
            <div class="flow-title">ğŸ’¡ è®¡è´¹æµç¨‹</div>
            <div class="flow-steps">
                <div class="flow-step">
                    <div class="step-number">1</div>
                    <div class="step-title">æ¥æ”¶è¯·æ±‚</div>
                    <div class="step-desc">è§£ææ¨¡å‹åç§°å’Œtokenæ•°</div>
                </div>
                
                <div class="flow-step">
                    <div class="step-number">2</div>
                    <div class="step-title">é€‰æ‹©ç­–ç•¥</div>
                    <div class="step-desc">åˆ†æ®µå®šä»· > å›ºå®šä»·æ ¼ > å€ç‡</div>
                </div>
                
                <div class="flow-step">
                    <div class="step-number">3</div>
                    <div class="step-title">è®¡ç®—ä»·æ ¼</div>
                    <div class="step-desc">åº”ç”¨ç»„å€ç‡å’Œç‰¹æ®Šå€ç‡</div>
                </div>
                
                <div class="flow-step">
                    <div class="step-number">4</div>
                    <div class="step-title">é¢„æ‰£è´¹</div>
                    <div class="step-desc">æ ¹æ®é¢„ä¼°ä½¿ç”¨é‡æ‰£è´¹</div>
                </div>
                
                <div class="flow-step">
                    <div class="step-number">5</div>
                    <div class="step-title">æ‰§è¡Œè¯·æ±‚</div>
                    <div class="step-desc">è°ƒç”¨ä¸Šæ¸¸API</div>
                </div>
                
                <div class="flow-step">
                    <div class="step-number">6</div>
                    <div class="step-title">ç»“ç®—å·®é¢</div>
                    <div class="step-desc">æ ¹æ®å®é™…ä½¿ç”¨é‡è¡¥æ‰£æˆ–é€€è´¹</div>
                </div>
            </div>
        </div>
        
        <!-- å›¾ä¾‹è¯´æ˜ -->
        <div class="legend">
            <div class="legend-title">ğŸ“Š æ¶æ„å±‚çº§è¯´æ˜</div>
            <div class="legend-items">
                <div class="legend-item">
                    <div class="legend-color" style="background: #e74c3c;"></div>
                    <div class="legend-text"><strong>è¯·æ±‚å¤„ç†å±‚:</strong> æ¥æ”¶å’Œè§£æAPIè¯·æ±‚</div>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #3498db;"></div>
                    <div class="legend-text"><strong>å®šä»·ç­–ç•¥å±‚:</strong> ä¸‰ç§å®šä»·æ¨¡å¼å¯é€‰</div>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #2ecc71;"></div>
                    <div class="legend-text"><strong>è´¹ç”¨è®¡ç®—å±‚:</strong> æ‰§è¡Œä»·æ ¼è®¡ç®—é€»è¾‘</div>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #f39c12;"></div>
                    <div class="legend-text"><strong>é…ç½®å­˜å‚¨å±‚:</strong> æŒä¹…åŒ–å’Œç¼“å­˜é…ç½®</div>
                </div>
            </div>
        </div>
        
        <!-- Bananaç”Ÿæˆçš„æ¶æ„å›¾ -->
        <div class="image-section">
            <div class="image-title">ğŸ¨ ç³»ç»Ÿæ¶æ„å¯è§†åŒ–å›¾</div>
            <img id="architectureImage" class="banana-image" alt="è®¡è´¹ç³»ç»Ÿæ¶æ„å›¾" />
            <p style="color: #7f8c8d; margin-top: 10px;">ä½¿ç”¨ Banana ç”Ÿæˆçš„ç³»ç»Ÿæ¶æ„ç¤ºæ„å›¾</p>
        </div>
    </div>
    
    <script>
        // è¿™é‡Œå¯ä»¥é›†æˆ Banana å›¾ç‰‡ç”Ÿæˆ
        // ç”±äº Banana éœ€è¦å®é™…çš„ API è°ƒç”¨ï¼Œè¿™é‡Œæä¾›å ä½ç¬¦
        document.getElementById('architectureImage').src = 'data:image/svg+xml;base64,' + btoa(`
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
                <defs>
                    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
                    </linearGradient>
                </defs>
                
                <!-- èƒŒæ™¯ -->
                <rect width="1200" height="800" fill="#f8f9fa"/>
                
                <!-- æ ‡é¢˜ -->
                <text x="600" y="50" font-size="32" font-weight="bold" text-anchor="middle" fill="url(#grad1)">
                    New-API è®¡è´¹æ¡†æ¶æ¶æ„
                </text>
                
                <!-- è¯·æ±‚å±‚ -->
                <rect x="50" y="100" width="1100" height="120" rx="10" fill="#ffe5e5" stroke="#e74c3c" stroke-width="3"/>
                <text x="100" y="130" font-size="20" font-weight="bold" fill="#e74c3c">ğŸ“¥ è¯·æ±‚å¤„ç†å±‚</text>
                <text x="100" y="160" font-size="14" fill="#555">Compatible Handler â†’ Relay Info â†’ Token Meta</text>
                <text x="100" y="185" font-size="12" fill="#777">æ¥æ”¶è¯·æ±‚ | è§£æå‚æ•° | æå–æ¨¡å‹ä¿¡æ¯</text>
                
                <!-- ç®­å¤´ -->
                <path d="M 600 220 L 600 260" stroke="#3498db" stroke-width="3" marker-end="url(#arrowblue)"/>
                <defs>
                    <marker id="arrowblue" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
                        <polygon points="0,0 10,5 0,10" fill="#3498db"/>
                    </marker>
                </defs>
                
                <!-- å®šä»·å±‚ -->
                <rect x="50" y="260" width="1100" height="140" rx="10" fill="#e3f2fd" stroke="#3498db" stroke-width="3"/>
                <text x="100" y="290" font-size="20" font-weight="bold" fill="#3498db">ğŸ’° å®šä»·ç­–ç•¥å±‚</text>
                
                <rect x="100" y="310" width="300" height="70" rx="8" fill="white" stroke="#3498db" stroke-width="2"/>
                <text x="120" y="335" font-size="14" font-weight="bold" fill="#2c3e50">åˆ†æ®µå®šä»· (ä¼˜å…ˆçº§1)</text>
                <text x="120" y="355" font-size="11" fill="#666">åŸºäºTokené‡é˜¶æ¢¯å®šä»·</text>
                <text x="120" y="370" font-size="11" fill="#666">æ”¯æŒç¼“å­˜ä»·æ ¼é…ç½®</text>
                
                <rect x="450" y="310" width="300" height="70" rx="8" fill="white" stroke="#3498db" stroke-width="2"/>
                <text x="470" y="335" font-size="14" font-weight="bold" fill="#2c3e50">å›ºå®šä»·æ ¼ (ä¼˜å…ˆçº§2)</text>
                <text x="470" y="355" font-size="11" fill="#666">æŒ‰æ¬¡è®¡è´¹æ¨¡å‹</text>
                <text x="470" y="370" font-size="11" fill="#666">MJã€Taskç­‰</text>
                
                <rect x="800" y="310" width="300" height="70" rx="8" fill="white" stroke="#3498db" stroke-width="2"/>
                <text x="820" y="335" font-size="14" font-weight="bold" fill="#2c3e50">å€ç‡è®¡è´¹ (ä¼˜å…ˆçº§3)</text>
                <text x="820" y="355" font-size="11" fill="#666">Tokenæ•°Ã—å€ç‡</text>
                <text x="820" y="370" font-size="11" fill="#666">æ”¯æŒå¤šç§å€ç‡ç±»å‹</text>
                
                <!-- ç®­å¤´ -->
                <path d="M 600 400 L 600 440" stroke="#2ecc71" stroke-width="3" marker-end="url(#arrowgreen)"/>
                <defs>
                    <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
                        <polygon points="0,0 10,5 0,10" fill="#2ecc71"/>
                    </marker>
                </defs>
                
                <!-- è®¡ç®—å±‚ -->
                <rect x="50" y="440" width="1100" height="120" rx="10" fill="#e8f5e9" stroke="#2ecc71" stroke-width="3"/>
                <text x="100" y="470" font-size="20" font-weight="bold" fill="#2ecc71">ğŸ§® è´¹ç”¨è®¡ç®—å±‚</text>
                <text x="100" y="500" font-size="14" fill="#555">ModelPriceHelper â†’ GroupRatio â†’ é¢„æ‰£è´¹è®¡ç®—</text>
                <text x="100" y="525" font-size="12" fill="#777">é€‰æ‹©ç­–ç•¥ | åº”ç”¨ç»„å€ç‡ | è®¡ç®—é¢„æ‰£è´¹é¢åº¦</text>
                
                <!-- ç®­å¤´ -->
                <path d="M 600 560 L 600 600" stroke="#f39c12" stroke-width="3" marker-end="url(#arroworange)"/>
                <defs>
                    <marker id="arroworange" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
                        <polygon points="0,0 10,5 0,10" fill="#f39c12"/>
                    </marker>
                </defs>
                
                <!-- å­˜å‚¨å±‚ -->
                <rect x="50" y="600" width="1100" height="120" rx="10" fill="#fff3e0" stroke="#f39c12" stroke-width="3"/>
                <text x="100" y="630" font-size="20" font-weight="bold" fill="#f39c12">ğŸ’¾ é…ç½®å­˜å‚¨å±‚</text>
                <text x="100" y="660" font-size="14" fill="#555">TieredPricing Map â†” Option Database â†” Exposed Cache</text>
                <text x="100" y="685" font-size="12" fill="#777">å†…å­˜ç¼“å­˜ | æ•°æ®åº“æŒä¹…åŒ– | å‰ç«¯å±•ç¤ºç¼“å­˜</text>
                
                <!-- æ•°æ®æµæ ‡æ³¨ -->
                <text x="650" y="190" font-size="12" fill="#e74c3c" font-weight="bold">è¯·æ±‚æ•°æ® â†“</text>
                <text x="650" y="430" font-size="12" fill="#3498db" font-weight="bold">å®šä»·ç­–ç•¥ â†“</text>
                <text x="650" y="590" font-size="12" fill="#2ecc71" font-weight="bold">è®¡ç®—ç»“æœ â†“</text>
                
                <!-- è£…é¥°å…ƒç´  -->
                <circle cx="1150" cy="50" r="30" fill="url(#grad2)" opacity="0.3"/>
                <circle cx="50" cy="750" r="40" fill="url(#grad1)" opacity="0.2"/>
                
                <!-- ç‰ˆæœ¬ä¿¡æ¯ -->
                <text x="600" y="770" font-size="12" text-anchor="middle" fill="#999">
                    New-API Billing Architecture v1.0 | Powered by Banana
                </text>
            </svg>
        `);
    </script>
</body>
</html>
